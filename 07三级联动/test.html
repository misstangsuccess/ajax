<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>三级联动</title>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.2.4/jquery.js"></script>
  <script src="text/javascript"></script>
</head>
<body>
  <select id="province">
    <option>请选择省份</option>
  </select>省

  <select id="city>
    <option>请选择市</option>
  </select>市

  <select id="county>
    <option>请选择(区)县</option>
  </select>区(县)
  <script type="text/javascript">
    2     //这是jquery的一般写法
    3     //$(document).ready(function(){
    4     //    alert();
    5     //})
    6     /////////////////////////////
    7     //这是jquery的简写写法
    8     $(function(){
    9         //根据不同省来获得不同的市
   10         $("#sheng").change(function(){
   11             //获得省的编号
   12             var shengId=$("#sheng").val();
   13             //利用ajax实现根据省获得城市的操作
   14             $.ajax({
   15                 type:"get",
   16                 //url:"getShiBySheng.php",
   17                 url:"?action=getShiBySheng",
   18                 data:{shengId:shengId},
   19                 success:function(results){
   20                     //利用jquery的函数对于json进行解析
   21                     var shis=eval(results);
   22                     //获得城市的下拉列表
   23                     var shi=$("#shi");
   24                     //清空城市下拉列表
   25                     shi.empty();
   26                     //如果要做三级联动，此时必须再加上清空区县下拉列表
   27                     $("#qu").empty();
   28                     //验证ajax是否起作用，可以输出shis.length
   29                     //alert(shis.length);
   30                     //遍历数组，活动具体的城市信息
   31                     for(var i=0;i<shis.length;i++){
   32                         var city=shis[i];
   33                         //通过遍历city.city_id
   34                         //alert(city.city_id);
   35                         //动态加载城市下拉列表框
   36                         $("<option>").val(city.shi_id).text(city.shi_name).appendTo(shi);
   37                     }
   38                     //alert($("#shi").val());
   39                     //根据省遍历出市的时候，接着默认显示区
   40                     var shiId=$("#shi").val();
   41                     $.ajax({
   42                         type:"get",
   43                         url:"?action=getQuByShi",
   44                         data:{shiId:shiId},
   45                         success:function(results){
   46                             var qus=eval(results);
   47                             var qu=$("#qu");
   48                             qu.empty();
   49                             for(var i=0;i<qus.length;i++){
   50                                 var qu1=qus[i];
   51                                 $("<option>").val(qu1.qu_id).text(qu1.qu_name).appendTo(qu);
   52                             }
   53                         }
   54                     }); 
   55                 }
   56             }); 
   57         });
   58 
   59         //同理可得，根据不同市来获得不同的区
   60         $("#shi").change(function(){
   61             var shiId=$("#shi").val();
   62             $.ajax({
   63                 type:"get",
   64                 //url:"getQuByShi.php",
   65                 url:"?action=getQuByShi",
   66                 data:{shiId:shiId},
   67                 success:function(results){
   68                     var qus=eval(results);
   69                     var qu=$("#qu");
   70                     qu.empty();
   71                     for(var i=0;i<qus.length;i++){
   72                         var qu1=qus[i];
   73                         $("<option>").val(qu1.qu_id).text(qu1.qu_name).appendTo(qu);
   74                     }
   75                 }
   76             }); 
   77         });
   78     })
   79 </script>
   </body>
</html>